# Subgroups generated by families of elements

```agda
module group-theory.subgroups-generated-by-families-of-elements where
```

<details><summary>Imports</summary>

```agda
open import foundation.identity-types
open import foundation.images
open import foundation.logical-equivalences
open import foundation.universe-levels

open import group-theory.groups
open import group-theory.subgroups
open import group-theory.subgroups-generated-by-subsets-groups
open import group-theory.subsets-groups
```

</details>

## Idea

Consider a family `(xᵢ)ᵢ` of elements in a [group](group-theory.groups.md) `G`. The **subgroup generated by** `(xᵢ)ᵢ` is the [subgroup generated by the subset](gorup-theory.subgroups-generated-by-subsets.md) of all the elements of the form `xᵢ` for some `i` in the indexing type of `(xᵢ)ᵢ`. In other words, the subgroup generated by `(xᵢ)ᵢ` is the least [subgroup](group-theory.subgroups.md) that contains all the elements `xᵢ`.

## Definitions

### The predicate of being a subgroup generated by a family of elements

```agda
module _
  {l1 l2 l3 : Level} (G : Group l1) {I : UU l2} (x : I → type-Group G)
  (H : Subgroup l3 G)
  where

  is-subgroup-generated-by-family-of-elements-Group : UUω
  is-subgroup-generated-by-family-of-elements-Group =
    {l4 : Level} (K : Subgroup l4 G) →
    leq-Subgroup G H K ↔ ((i : I) → is-in-Subgroup G K (x i))

  contains-family-of-elements-is-subgroup-generated-by-family-of-elements-Group :
    is-subgroup-generated-by-family-of-elements-Group →
    (i : I) → is-in-Subgroup G H (x i)
  contains-family-of-elements-is-subgroup-generated-by-family-of-elements-Group
    U =
    forward-implication (U H) (refl-leq-Subgroup G H)

  leq-subgroup-is-subgroup-generated-by-family-of-elements-Group :
    is-subgroup-generated-by-family-of-elements-Group →
    {l4 : Level} (K : Subgroup l4 G) (k : (i : I) → is-in-Subgroup G K (x i)) →
    leq-Subgroup G H K
  leq-subgroup-is-subgroup-generated-by-family-of-elements-Group U K =
    backward-implication (U K)
```

### The subgroup generated by a family of elements in a group

```agda
module _
  {l1 l2 : Level} (G : Group l1) {I : UU l2} (x : I → type-Group G)
  where

  subgroup-family-of-elements-Group : Subgroup (l1 ⊔ l2) G
  subgroup-family-of-elements-Group =
    subgroup-subset-Group G (subtype-im x)

  subset-subgroup-family-of-elements-Group : subset-Group (l1 ⊔ l2) G
  subset-subgroup-family-of-elements-Group = subset-Subgroup G subgroup-family-of-elements-Group

  is-in-subgroup-family-of-elements-Group : type-Group G → UU (l1 ⊔ l2)
  is-in-subgroup-family-of-elements-Group = is-in-Subgroup G subgroup-family-of-elements-Group

  is-closed-under-eq-subgroup-family-of-elements-Group :
    {x y : type-Group G} → is-in-subgroup-family-of-elements-Group x →
    x ＝ y → is-in-subgroup-family-of-elements-Group y
  is-closed-under-eq-subgroup-family-of-elements-Group =
    is-closed-under-eq-Subgroup G subgroup-family-of-elements-Group

  is-closed-under-eq-subgroup-family-of-elements-Group' :
    {x y : type-Group G} → is-in-subgroup-family-of-elements-Group y →
    x ＝ y → is-in-subgroup-family-of-elements-Group x
  is-closed-under-eq-subgroup-family-of-elements-Group' =
    is-closed-under-eq-Subgroup' G subgroup-family-of-elements-Group

  contains-unit-subgroup-family-of-elements-Group :
    contains-unit-subset-Group G subset-subgroup-family-of-elements-Group
  contains-unit-subgroup-family-of-elements-Group =
    contains-unit-Subgroup G subgroup-family-of-elements-Group

  is-closed-under-multiplication-subgroup-family-of-elements-Group :
    is-closed-under-multiplication-subset-Group G subset-subgroup-family-of-elements-Group
  is-closed-under-multiplication-subgroup-family-of-elements-Group =
    is-closed-under-multiplication-Subgroup G subgroup-family-of-elements-Group

  is-closed-under-inverses-subgroup-family-of-elements-Group :
    is-closed-under-inverses-subset-Group G subset-subgroup-family-of-elements-Group
  is-closed-under-inverses-subgroup-family-of-elements-Group =
    is-closed-under-inverses-Subgroup G subgroup-family-of-elements-Group

--   abstract
--     is-subgroup-generated-by-family-of-elements-subgroup-family-of-elements-Group :
--       is-subgroup-generated-by-family-of-elements-Group G x subgroup-family-of-elements-Group
--     is-subgroup-generated-by-family-of-elements-subgroup-family-of-elements-Group H =
--       logical-equivalence-reasoning
--         is-in-Subgroup G H x
--         ↔ ( subtype-standard-singleton-subtype (set-Group G) g ⊆
--             subset-Subgroup G H)
--           by
--           is-least-subtype-containing-element-Set
--             ( set-Group G)
--             ( g)
--             ( subset-Subgroup G H)
--         ↔ leq-Subgroup G subgroup-family-of-elements-Group H
--           by
--           inv-iff
--             ( adjoint-relation-subgroup-subset-Group G
--               ( subtype-standard-singleton-subtype (set-Group G) g)
--               ( H))

--   abstract
--     contains-element-subgroup-family-of-elements-Group :
--       is-in-subgroup-family-of-elements-Group g
--     contains-element-subgroup-family-of-elements-Group =
--       contains-subset-subgroup-subset-Group G
--         ( subtype-standard-singleton-subtype (set-Group G) g)
--         ( g)
--         ( refl)

--   abstract
--     leq-subgroup-family-of-elements-Group :
--       {l : Level} (H : Subgroup l G) →
--       is-in-Subgroup G H g → leq-Subgroup G subgroup-family-of-elements-Group H
--     leq-subgroup-family-of-elements-Group H =
--       forward-implication
--         ( is-subgroup-generated-by-family-of-elements-subgroup-family-of-elements-Group H)
-- ```

-- ### The image of the initial group homomorphism `f : ℤ → G` such that `f(1) ＝ g`

-- An alternative definition of the subgroup generated by one element `g` is as the
-- image of the
-- [initial group homomorphism](group-theory.free-groups-with-one-generator.md)
-- `f : ℤ → G` that satisfies `f(1) ＝ g`.

-- ```agda
-- module _
--   {l1 : Level} (G : Group l1) (g : type-Group G)
--   where

--   image-hom-element-Group : Subgroup l1 G
--   image-hom-element-Group = image-hom-Group ℤ-Group G (hom-element-Group G g)

--   subset-image-hom-element-Group : subset-Group l1 G
--   subset-image-hom-element-Group =
--     subset-Subgroup G image-hom-element-Group

--   is-in-image-hom-element-Group : type-Group G → UU l1
--   is-in-image-hom-element-Group = is-in-Subgroup G image-hom-element-Group

--   is-closed-under-eq-image-hom-element-Group :
--     {x y : type-Group G} → is-in-image-hom-element-Group x →
--     x ＝ y → is-in-image-hom-element-Group y
--   is-closed-under-eq-image-hom-element-Group =
--     is-closed-under-eq-Subgroup G image-hom-element-Group

--   is-closed-under-eq-image-hom-element-Group' :
--     {x y : type-Group G} → is-in-image-hom-element-Group y →
--     x ＝ y → is-in-image-hom-element-Group x
--   is-closed-under-eq-image-hom-element-Group' =
--     is-closed-under-eq-Subgroup' G image-hom-element-Group

--   is-image-image-hom-element-Group :
--     is-image-hom-Group ℤ-Group G (hom-element-Group G g) image-hom-element-Group
--   is-image-image-hom-element-Group =
--     is-image-image-hom-Group ℤ-Group G (hom-element-Group G g)

--   contains-values-image-hom-element-Group :
--     (k : ℤ) → is-in-image-hom-element-Group (map-hom-element-Group G g k)
--   contains-values-image-hom-element-Group =
--     contains-values-image-hom-Group ℤ-Group G (hom-element-Group G g)

--   contains-element-image-hom-element-Group :
--     is-in-image-hom-element-Group g
--   contains-element-image-hom-element-Group =
--     is-closed-under-eq-image-hom-element-Group
--       ( contains-values-image-hom-element-Group one-ℤ)
--       ( right-unit-law-mul-Group G g)

--   leq-image-hom-element-Group :
--     {l : Level} (H : Subgroup l G) →
--     is-in-Subgroup G H g → leq-Subgroup G image-hom-element-Group H
--   leq-image-hom-element-Group H u =
--     leq-image-hom-Group
--       ( ℤ-Group)
--       ( G)
--       ( hom-element-Group G g)
--       ( H)
--       ( λ k → is-closed-under-powers-int-Subgroup G H k g u)

--   is-subgroup-generated-by-family-of-elements-image-hom-element-Group :
--     is-subgroup-generated-by-family-of-elements-Group G g image-hom-element-Group
--   pr1 (is-subgroup-generated-by-family-of-elements-image-hom-element-Group K) =
--     leq-image-hom-element-Group K
--   pr2 (is-subgroup-generated-by-family-of-elements-image-hom-element-Group K) u =
--     u g contains-element-image-hom-element-Group
-- ```

-- ## Properties

-- ### The subgroup generated by an element `g` contains all the integer powers `gᵏ`

-- ```agda
-- module _
--   {l1 : Level} (G : Group l1) (g : type-Group G)
--   where

--   contains-powers-subgroup-family-of-elements-Group :
--     (k : ℤ) → is-in-subgroup-family-of-elements-Group G g (integer-power-Group G k g)
--   contains-powers-subgroup-family-of-elements-Group k =
--     is-closed-under-powers-int-Subgroup G
--       ( subgroup-family-of-elements-Group G g)
--       ( k)
--       ( g)
--       ( contains-element-subgroup-family-of-elements-Group G g)
-- ```

-- ### Any two subgroups generated by the same element contain the same elements

-- ```agda
-- module _
--   {l1 l2 l3 : Level} (G : Group l1) (g : type-Group G)
--   (H : Subgroup l2 G) (Hu : is-subgroup-generated-by-family-of-elements-Group G g H)
--   (K : Subgroup l3 G) (Ku : is-subgroup-generated-by-family-of-elements-Group G g K)
--   where

--   has-same-elements-is-subgroup-generated-by-family-of-elements-Group :
--     has-same-elements-Subgroup G H K
--   pr1 (has-same-elements-is-subgroup-generated-by-family-of-elements-Group x) =
--     leq-subgroup-is-subgroup-generated-by-family-of-elements-Group G g H K Hu
--       ( contains-element-is-subgroup-generated-by-family-of-elements-Group G g K Ku)
--       ( x)
--   pr2 (has-same-elements-is-subgroup-generated-by-family-of-elements-Group x) =
--     leq-subgroup-is-subgroup-generated-by-family-of-elements-Group G g K H Ku
--       ( contains-element-is-subgroup-generated-by-family-of-elements-Group G g H Hu)
--       ( x)
-- ```

-- ### The subgroup generated by an element has the same elements as the image of the intial group homomorphism `ℤ → G` mapping `1` to `g`

-- ```agda
-- module _
--   {l : Level} (G : Group l) (g : type-Group G)
--   where

--   has-same-elements-image-hom-element-subgroup-family-of-elements-Group :
--     has-same-elements-Subgroup G
--       ( image-hom-element-Group G g)
--       ( subgroup-family-of-elements-Group G g)
--   has-same-elements-image-hom-element-subgroup-family-of-elements-Group =
--     has-same-elements-is-subgroup-generated-by-family-of-elements-Group G g
--       ( image-hom-element-Group G g)
--       ( is-subgroup-generated-by-family-of-elements-image-hom-element-Group G g)
--       ( subgroup-family-of-elements-Group G g)
--       ( is-subgroup-generated-by-family-of-elements-subgroup-family-of-elements-Group G g)
-- ```
